{"title":"Python 数据分析与可视化动手学：泡沫铝应力应变关系实验数据处理（线性回归）","uid":"0e4234a4caab3caa3ea203d33af78e67","slug":"数据分析与可视化动手学：泡沫铝应力应变关系（线性回归）","date":"2019-06-10T07:55:57.000Z","updated":"2021-08-19T08:49:08.611Z","comments":true,"path":"api/articles/数据分析与可视化动手学：泡沫铝应力应变关系（线性回归）.json","keywords":null,"cover":"https://image-assets.mihuashi.com/2021/08/16/13/Fgd60-Re0cmktuJZTAmYcUPlStDC.gif","content":"<p>观察数据、导入数据、划分特征和标签、划分训练集和测试集、构建模型，模型可视化</p>\n<p>Bilibili视频教程：<a href=\"https://space.bilibili.com/1900783/#/\">同济子豪兄</a></p>\n<hr>\n<h1 id=\"第1步：导入数据分析库pandas，数据可视化库matplotlib\"><a href=\"#第1步：导入数据分析库pandas，数据可视化库matplotlib\" class=\"headerlink\" title=\"第1步：导入数据分析库pandas，数据可视化库matplotlib\"></a>第1步：导入数据分析库pandas，数据可视化库matplotlib</h1><p><code>%matplotlib inline</code>是Ipython的魔法函数，其作用是使matplotlib绘制的图像嵌入在juptyer notebook的单元格里</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">import pandas as pd\nimport matplotlib.pyplot as plt\n%matplotlib inline</code></pre>\n\n<h1 id=\"第2步：导入数据集，查看数据集\"><a href=\"#第2步：导入数据集，查看数据集\" class=\"headerlink\" title=\"第2步：导入数据集，查看数据集\"></a>第2步：导入数据集，查看数据集</h1><pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"># 导入数据集，筛选压力值在 1000N~10000N 的数据\ndataset &#x3D; pd.read_excel(&#39;.&#x2F;2#.xls&#39;)\ndataset &#x3D; dataset[(dataset[&quot;试验力(N)&quot;]&lt;10000) &amp; (dataset[&quot;试验力(N)&quot;]&gt;1000)]\ndataset.head(10)</code></pre>\n\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">type(dataset)</code></pre>\n\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">pandas.core.frame.DataFrame</code></pre>\n\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">dataset.shape</code></pre>\n\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">(144, 7)</code></pre>\n\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">dataset.columns</code></pre>\n\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">Index([&#39;试验力(N)&#39;, &#39;变形1(mm)&#39;, &#39;变形2(mm)&#39;, &#39;位移(mm)&#39;, &#39;横梁速度(mm&#x2F;min)&#39;, &#39;时间(ms)&#39;,\n       &#39;温度&#39;],\n      dtype&#x3D;&#39;object&#39;)</code></pre>\n\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">dataset.info()</code></pre>\n\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;\nInt64Index: 144 entries, 545 to 688\nData columns (total 7 columns):\n试验力(N)          144 non-null float64\n变形1(mm)         144 non-null int64\n变形2(mm)         144 non-null int64\n位移(mm)          144 non-null float64\n横梁速度(mm&#x2F;min)    144 non-null int64\n时间(ms)          144 non-null int64\n温度              144 non-null int64\ndtypes: float64(2), int64(5)\nmemory usage: 9.0 KB</code></pre>\n\n\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"># 查看数据集统计特征\ndataset.describe()</code></pre>\n\n<table><thead><tr style=\"text-align: right;\"><th></th><th>试验力(N)</th><th>变形1(mm)</th><th>变形2(mm)</th><th>位移(mm)</th><th>横梁速度(mm/min)</th><th>时间(ms)</th><th>温度</th></tr></thead><tbody><tr><th>count</th><td>144.000000</td><td>144.0</td><td>144.0</td><td>144.000000</td><td>144.0</td><td>144.000000</td><td>144.0</td></tr><tr><th>mean</th><td>5933.107639</td><td>0.0</td><td>0.0</td><td>3.313668</td><td>-6.0</td><td>33070.159722</td><td>0.0</td></tr><tr><th>std</th><td>2780.499253</td><td>0.0</td><td>0.0</td><td>0.223733</td><td>0.0</td><td>2251.122936</td><td>0.0</td></tr><tr><th>min</th><td>1002.000000</td><td>0.0</td><td>0.0</td><td>2.931965</td><td>-6.0</td><td>29234.000000</td><td>0.0</td></tr><tr><th>25%</th><td>3452.125000</td><td>0.0</td><td>0.0</td><td>3.121751</td><td>-6.0</td><td>31129.250000</td><td>0.0</td></tr><tr><th>50%</th><td>6279.500000</td><td>0.0</td><td>0.0</td><td>3.311385</td><td>-6.0</td><td>33039.500000</td><td>0.0</td></tr><tr><th>75%</th><td>8387.250000</td><td>0.0</td><td>0.0</td><td>3.499875</td><td>-6.0</td><td>34937.500000</td><td>0.0</td></tr><tr><th>max</th><td>9975.500000</td><td>0.0</td><td>0.0</td><td>3.700565</td><td>-6.0</td><td>36953.000000</td><td>0.0</td></tr></tbody></table>\n\n<h1 id=\"第3步：提取特征\"><a href=\"#第3步：提取特征\" class=\"headerlink\" title=\"第3步：提取特征\"></a>第3步：提取特征</h1><p>提取特征：位移 提取标签：试验力</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">feature_columns &#x3D; [&#39;位移(mm)&#39;]\nlabel_column &#x3D; [&#39;试验力(N)&#39;]</code></pre>\n\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">features &#x3D; dataset[feature_columns]\nlabel &#x3D; dataset[label_column]</code></pre>\n\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">features.head(10)</code></pre>\n\n<table><thead><tr><th></th><th>位移(mm)</th></tr></thead><tbody><tr><th>545</th><td>2.931965</td></tr><tr><th>546</th><td>2.937760</td></tr><tr><th>547</th><td>2.943860</td></tr><tr><th>548</th><td>2.947825</td></tr><tr><th>549</th><td>2.953925</td></tr><tr><th>550</th><td>2.957890</td></tr><tr><th>551</th><td>2.963685</td></tr><tr><th>552</th><td>2.971615</td></tr><tr><th>553</th><td>2.975580</td></tr><tr><th>554</th><td>2.979545</td></tr></tbody></table>\n\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">type(features)</code></pre>\n\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">pandas.core.frame.DataFrame</code></pre>\n\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">label.head(10)</code></pre>\n\n<div><table><thead><tr style=\"text-align: right;\"><th></th><th>试验力(N)</th></tr></thead><tbody><tr><th>545</th><td>1002.0</td></tr><tr><th>546</th><td>1059.0</td></tr><tr><th>547</th><td>1119.0</td></tr><tr><th>548</th><td>1159.5</td></tr><tr><th>549</th><td>1203.0</td></tr><tr><th>550</th><td>1256.0</td></tr><tr><th>551</th><td>1321.5</td></tr><tr><th>552</th><td>1387.5</td></tr><tr><th>553</th><td>1455.5</td></tr><tr><th>554</th><td>1502.0</td></tr></tbody></table></div>\n\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">X &#x3D; features.values</code></pre>\n\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">Y &#x3D; label.values</code></pre>\n\n<h1 id=\"第4步：建立模型\"><a href=\"#第4步：建立模型\" class=\"headerlink\" title=\"第4步：建立模型\"></a>第4步：建立模型</h1><p>拆分数据，四分之三的数据作为训练集，四分之一的数据作为测试集</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">from sklearn.model_selection import train_test_split\nX_train, X_test, Y_train, Y_test &#x3D; train_test_split( X, Y, test_size &#x3D; 1&#x2F;4, random_state &#x3D; 0) </code></pre>\n\n<p>用训练集的数据进行训练</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">from sklearn.linear_model import LinearRegression\nregressor &#x3D; LinearRegression()\nregressor &#x3D; regressor.fit(X_train, Y_train)</code></pre>\n\n<p>对测试集进行预测</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">Y_init &#x3D; regressor.predict(X_train)\nY_pred &#x3D; regressor.predict(X_test)</code></pre>\n\n<p>可视化</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"># 散点图：红色点表示训练集的点\nplt.scatter(X_train , Y_train, color &#x3D; &#39;red&#39;)\n# 线图：蓝色线表示由训练集训练出的线性回归模型\nplt.plot(X_train , Y_init, color &#x3D;&#39;blue&#39;)\nplt.show()</code></pre>\n\n<p><img src=\"%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%8F%AF%E8%A7%86%E5%8C%96%E5%8A%A8%E6%89%8B%E5%AD%A6%EF%BC%9A%E6%B3%A1%E6%B2%AB%E9%93%9D%E5%BA%94%E5%8A%9B%E5%BA%94%E5%8F%98%E5%85%B3%E7%B3%BB%EF%BC%88%E7%BA%BF%E6%80%A7%E5%9B%9E%E5%BD%92%EF%BC%89/output_26_0.png\"></p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"># 散点图：红色点表示测试集的点\nplt.scatter(X_test , Y_test, color &#x3D; &#39;red&#39;)\n# 线图：蓝色线表示对测试集进行预测的结果\nplt.plot(X_test , Y_pred, color &#x3D;&#39;blue&#39;)\nplt.show()</code></pre>\n\n<p><img src=\"%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%8F%AF%E8%A7%86%E5%8C%96%E5%8A%A8%E6%89%8B%E5%AD%A6%EF%BC%9A%E6%B3%A1%E6%B2%AB%E9%93%9D%E5%BA%94%E5%8A%9B%E5%BA%94%E5%8F%98%E5%85%B3%E7%B3%BB%EF%BC%88%E7%BA%BF%E6%80%A7%E5%9B%9E%E5%BD%92%EF%BC%89/output_27_0.png\"></p>\n","text":"观察数据、导入数据、划分特征和标签、划分训练集和测试集、构建模型，模型可视化 Bilibili视频教程：同济子豪兄 第1步：导入数据分析库pandas，数据可视化库matplotlib%matplotlib inline是Ipython的魔法函数，其作用是使matplotlib绘...","link":"","photos":[],"count_time":{"symbolsCount":"3k","symbolsTime":"3 mins."},"categories":[{"name":"动手学","slug":"动手学","count":11,"path":"api/categories/动手学.json"},{"name":"Python","slug":"动手学/Python","count":2,"path":"api/categories/动手学/Python.json"}],"tags":[{"name":"动手学","slug":"动手学","count":11,"path":"api/tags/动手学.json"},{"name":"python","slug":"python","count":4,"path":"api/tags/python.json"},{"name":"Pandas","slug":"Pandas","count":2,"path":"api/tags/Pandas.json"},{"name":"数据分析","slug":"数据分析","count":2,"path":"api/tags/数据分析.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E7%AC%AC1%E6%AD%A5%EF%BC%9A%E5%AF%BC%E5%85%A5%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E5%BA%93pandas%EF%BC%8C%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E5%BA%93matplotlib\"><span class=\"toc-text\">第1步：导入数据分析库pandas，数据可视化库matplotlib</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E7%AC%AC2%E6%AD%A5%EF%BC%9A%E5%AF%BC%E5%85%A5%E6%95%B0%E6%8D%AE%E9%9B%86%EF%BC%8C%E6%9F%A5%E7%9C%8B%E6%95%B0%E6%8D%AE%E9%9B%86\"><span class=\"toc-text\">第2步：导入数据集，查看数据集</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E7%AC%AC3%E6%AD%A5%EF%BC%9A%E6%8F%90%E5%8F%96%E7%89%B9%E5%BE%81\"><span class=\"toc-text\">第3步：提取特征</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E7%AC%AC4%E6%AD%A5%EF%BC%9A%E5%BB%BA%E7%AB%8B%E6%A8%A1%E5%9E%8B\"><span class=\"toc-text\">第4步：建立模型</span></a></li></ol>","author":{"name":"Ryanhui","slug":"blog-author","avatar":"https://avatars1.githubusercontent.com/u/43368274?s=460&u=50a78f666213a52518d0076c1ca1cd9862076167&v=4","link":"/","description":"写博客，不过是孤芳自赏","socials":{"github":"https://github.com/Ranhuiryan","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/wbgjh","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/svg/bilibili-fill.svg","link":"https://space.bilibili.com/5472735"},"researchgate":{"icon":"/svg/researchgate.svg","link":"https://www.researchgate.net/profile/Guo-Jihong"}}}},"mapped":true,"prev_post":{"title":"Python 语言基础，IPython 和 Jupyter Notebook","uid":"e9467e98877499c2145d4cfcc50df70b","slug":"Python-语言基础，IPython-和-Jupyter-Notebook","date":"2019-07-15T09:03:24.000Z","updated":"2021-08-19T08:50:37.176Z","comments":true,"path":"api/articles/Python-语言基础，IPython-和-Jupyter-Notebook.json","keywords":null,"cover":"https://files.realpython.com/media/Python-Metaclasses_Watermarked.67e351592b05.jpg","text":"Python 语言基础，IPython 和 Jupyter Notebook 学习笔记。 The Python Interpreter$ python Python 3.6.0 | packaged by conda-forge | (default, Jan 13 2017, ...","link":"","photos":[],"count_time":{"symbolsCount":"17k","symbolsTime":"16 mins."},"categories":[{"name":"笔记","slug":"笔记","count":5,"path":"api/categories/笔记.json"},{"name":"Python","slug":"笔记/Python","count":2,"path":"api/categories/笔记/Python.json"}],"tags":[{"name":"python","slug":"python","count":4,"path":"api/tags/python.json"},{"name":"读书笔记","slug":"读书笔记","count":3,"path":"api/tags/读书笔记.json"}],"author":{"name":"Ryanhui","slug":"blog-author","avatar":"https://avatars1.githubusercontent.com/u/43368274?s=460&u=50a78f666213a52518d0076c1ca1cd9862076167&v=4","link":"/","description":"写博客，不过是孤芳自赏","socials":{"github":"https://github.com/Ranhuiryan","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/wbgjh","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/svg/bilibili-fill.svg","link":"https://space.bilibili.com/5472735"},"researchgate":{"icon":"/svg/researchgate.svg","link":"https://www.researchgate.net/profile/Guo-Jihong"}}}}},"next_post":{"title":"HTML 动手学（3）","uid":"e09f109ae9c19348b4ba2eebea2c785e","slug":"HTML-动手学（3）","date":"2019-05-30T13:06:54.000Z","updated":"2021-08-19T08:49:52.197Z","comments":true,"path":"api/articles/HTML-动手学（3）.json","keywords":null,"cover":"https://paradacreativa.es/wp-content/uploads/2019/12/C%C3%B3mo-abrir-archivos-HTML-foto.jpg","text":"Codecademy HTML 教程学习笔记 Styling Text（格式文本)使用 HTML 标识符给文字添加格式： 使用 &lt;em&gt; 标识符表示斜体。 使用 &lt;strong&gt; 标识符表示加粗。 &lt;p&gt;&lt;strong&gt;The Ni...","link":"","photos":[],"count_time":{"symbolsCount":"2.3k","symbolsTime":"2 mins."},"categories":[{"name":"动手学","slug":"动手学","count":11,"path":"api/categories/动手学.json"},{"name":"HTML","slug":"动手学/HTML","count":7,"path":"api/categories/动手学/HTML.json"}],"tags":[{"name":"动手学","slug":"动手学","count":11,"path":"api/tags/动手学.json"},{"name":"HTML","slug":"HTML","count":7,"path":"api/tags/HTML.json"},{"name":"前端开发","slug":"前端开发","count":7,"path":"api/tags/前端开发.json"}],"author":{"name":"Ryanhui","slug":"blog-author","avatar":"https://avatars1.githubusercontent.com/u/43368274?s=460&u=50a78f666213a52518d0076c1ca1cd9862076167&v=4","link":"/","description":"写博客，不过是孤芳自赏","socials":{"github":"https://github.com/Ranhuiryan","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/wbgjh","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/svg/bilibili-fill.svg","link":"https://space.bilibili.com/5472735"},"researchgate":{"icon":"/svg/researchgate.svg","link":"https://www.researchgate.net/profile/Guo-Jihong"}}}}}}